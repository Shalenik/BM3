% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/consolidate.R
\name{consolidate_results}
\alias{consolidate_results}
\title{Consolidate Fitting Results}
\usage{
consolidate_results(fits, sim, by_replicate = FALSE)
}
\arguments{
\item{fits}{List of fit objects (output from \code{fit_bfact_model()}), or a list of such lists
for multiple replications. See details.}

\item{sim}{List containing simulation data (Y, z, years), or list of such lists
for multiple replications.}

\item{by_replicate}{Logical. If TRUE, compute per-replicate statistics (default FALSE).
If fits and sim are lists of lists, this will aggregate across replications.}
}
\value{
A list containing:
\itemize{
\item timewise_summaries: tibble with posterior means/CIs per H
\item model_comparison: tibble comparing metrics across H values
\item per_replicate_stats: per-replicate RMSE if by_replicate=TRUE
\item replicate_comparison: tibble with mean/sd RMSE by H across replications (if multiple reps)
}
}
\description{
Create summary statistics from fitted BFACT models across multiple H values.
Combines individual fit objects into posterior summaries and model comparison metrics.
}
\details{
Consolidates multiple H fits into a single summary table with columns:
\itemize{
\item H_fit: fitted H value
\item time: time index
\item post_mean: posterior mean prediction
\item post_ci_lower, post_ci_upper: 95\% credible interval
\item se: squared error at each time point
\item rmse: overall RMSE for that H
}

For multiple replications, pass:
\itemize{
\item fits: list of lists, where each inner list is fits for one replicate
\item sim: list of simulation lists, one per replicate
}
}
\examples{
\dontrun{
sim <- simulate_data(H_true = 2, K = 20)
fit_H2 <- fit_bfact_model(sim, H = 2)
fit_H3 <- fit_bfact_model(sim, H = 3)

results <- consolidate_results(
    fits = list(fit_H2, fit_H3),
    sim = sim
)
head(results$timewise_summaries)
}

}
